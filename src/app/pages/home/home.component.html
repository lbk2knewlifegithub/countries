<div class='container pb-20 mt-8'>
  <nav class="flex flex-col gap-10 md:flex-row md:items-center md:justify-between">
    <!--    search bar-->
    <lbk-search-bar [loading]="loading" [filter]="filter" class="block max-w-lg md:flex-grow"></lbk-search-bar>
    <!--    end search bar-->

    <!--    filter-->
    <lbk-filter [filter]="filter"></lbk-filter>
    <!--    filter-->
  </nav>

  <!-- loading -->
  <div *ngIf="loading;else display" class='relative grid gap-10 mt-10 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4'>

    <lbk-circle-loading class="absolute z-50 -translate-x-1/2 top-11 left-1/2"></lbk-circle-loading>

    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
    <lbk-skeleton-small></lbk-skeleton-small>
  </div>


  <ng-template #display>
    <!--    main countries-->
    <main *ngIf='countries$ | async as countries'>
      <!--    countries grid-->
      <lbk-countries-grid *ngIf="countries.length > 0; else empty" [countries]='countries'></lbk-countries-grid>
      <!--    end countries grid-->



      <!-- no countries -->
      <ng-template #empty>
        <div class="mt-20">
          <h1 class="text-xl italic font-bold text-center lg:text-3xl">No country match with name <span
              class="text-indigo-400">{{filter.name}} </span> <span *ngIf="filter.region"> and region
              <span class="text-indigo-400">{{filter.region}}.</span></span>
          </h1>
        </div>
      </ng-template>
      <!-- end no countries -->

    </main>
    <!--    end main countries-->
  </ng-template>
</div>
