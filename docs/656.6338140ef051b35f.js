"use strict";(self.webpackChunkrest_countries_api_with_color_theme_switcher=self.webpackChunkrest_countries_api_with_color_theme_switcher||[]).push([[656],{2656:(st,g,i)=>{i.r(g),i.d(g,{HomeModule:()=>it});var c=i(6019),d=i(7537),Z=i(2362),v=i(6067),t=i(3668);let y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez]]}),e})();var x=i(4874),a=i(3856);function f(e,r,n,o,l,s,u){try{var p=e[s](u),m=p.value}catch(lt){return void n(lt)}p.done?r(m):Promise.resolve(m).then(o,l)}var _=i(4771),b=i(4537),T=i(7944),h=i(8726),k=i(5293),w=i(4193),A=i(9007),U=i(273),O=i(5488),F=i(9463),M=i(1570);function S(e,r){1&e&&t._UZ(0,"lbk-circle-loading-small")}function q(e,r){1&e&&t._UZ(0,"i",6)}function J(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){return t.CHM(n),t.oxw().onSearch("")}),t._UZ(1,"i",8),t.qZA()}}let B=(()=>{class e extends _.f{constructor(n){super(),this._router=n,this.queryChanged=new U.x}ngOnInit(){this.queryChanged.pipe((0,O.x)(),(0,F.b)(300)).subscribe(n=>{if(""===n)return this._router.navigate(["/"],{queryParams:{name:void 0,region:this.filter.region}});this._router.navigate(["/"],{queryParams:{name:n,region:this.filter.region}})})}onSearch(n){this.queryChanged.next(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-search-bar"]],inputs:{filter:"filter",loading:"loading"},features:[t.qOj],decls:7,vars:4,consts:[[1,"relative","flex","items-center","gap-6","rounded-md","shadow-lg","bg-elements"],[1,"absolute","px-8","text-xl","cursor-pointer"],[4,"ngIf","ngIfElse"],["glass",""],["placeholder","Search for a country...","type","text",1,"py-4","pl-20","border-none",3,"ngModel","ngModelChange"],["class","absolute p-4 text-xl -translate-y-1/2 cursor-pointer top-1/2 right-4 text-fill/50",3,"click",4,"ngIf"],[1,"text-2xl","fas","fa-search","text-fill/50"],[1,"absolute","p-4","text-xl","-translate-y-1/2","cursor-pointer","top-1/2","right-4","text-fill/50",3,"click"],[1,"text-2xl","fas","fa-times"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,S,1,0,"lbk-circle-loading-small",2),t.YNc(3,q,1,0,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"input",4),t.NdJ("ngModelChange",function(s){return o.onSearch(s)}),t.qZA(),t.YNc(6,J,2,0,"div",5),t.qZA()),2&n){const l=t.MAs(4);t.xp6(2),t.Q6J("ngIf",o.loading)("ngIfElse",l),t.xp6(3),t.Q6J("ngModel",o.filter.name),t.xp6(1),t.Q6J("ngIf",o.filter.name)}},directives:[c.O5,d.Fj,d.JJ,d.On,M.Q],styles:[""]}),e})();const H=[[["","role","button"]],[["","role","items"]]],I=["[role=button]","[role=items]"];let P=(()=>{class e{constructor(n){this._ref=n,this.active=!1}onClick(){this.active=!this.active}onBlur(n){setTimeout(()=>{this.active=!1,this._ref.detectChanges()},200)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-dropdown"]],inputs:{active:"active"},ngContentSelectors:I,decls:5,vars:2,consts:[[1,"dropdown"],["type","button",1,"rounded-lg","focus:ring-4","focus:ring-indigo-400",3,"blur","click"],[1,"dropdown-items","center-bottom"]],template:function(n,o){1&n&&(t.F$t(H),t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("blur",function(s){return o.onBlur(s)})("click",function(){return o.onClick()}),t.Hsn(2),t.qZA(),t.TgZ(3,"div",2),t.Hsn(4,1),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.ekj("active",o.active))},styles:[".dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]{position:absolute;opacity:0;transition:opacity .15s ease-in-out,transform .15s ease-in-out;display:grid;pointer-events:none}.dropdown[_ngcontent-%COMP%]   .dropdown-items.center-bottom[_ngcontent-%COMP%]{min-width:100%;left:0;top:calc(100% + 10px);place-content:center;place-items:center;transform:translate(-50%,2rem)}.dropdown[_ngcontent-%COMP%]   .dropdown-items.active[_ngcontent-%COMP%]{opacity:1;z-index:9999;pointer-events:auto}.dropdown[_ngcontent-%COMP%]   .dropdown-items.active.center-bottom[_ngcontent-%COMP%]{transform:translate(-50%)}"],changeDetection:0}),e})();const Q=function(e){return{name:e}},j=function(e,r){return{name:e,region:r}},N=function(){return{exact:!0}};function Y(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"li"),t.TgZ(2,"a",6),t._uU(3),t.qZA(),t.qZA(),t.BQk()),2&e){const n=r.$implicit,o=t.oxw();t.xp6(2),t.Q6J("queryParams","All"===n?t.VKq(3,Q,o.filter.name):t.WLB(5,j,o.filter.name,n))("routerLinkActiveOptions",t.DdM(8,N)),t.xp6(1),t.Oqu(n)}}let D=(()=>{class e{constructor(){this.regions=["All","Africa","America","Asia","Europe","Oceania"]}ngOnInit(){}get current(){return this.filter.region?this.filter.region:"All"}queryParams(n){const{name:o}=this.filter;return"All"===n?{name:o}:{region:n,name:o}}identifyRegion(n,o){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-filter"]],inputs:{filter:"filter"},decls:8,vars:3,consts:[["role","button",1,"bg-elements","rounded-lg","flex","py-4","px-6","shadow-lg","items-center","gap-10","text-[18px]"],[1,"medium-semibold"],[1,"fas","fa-angle-down"],["role","items",1,"z-50"],["id","regions",1,"absolute","grid","w-full","gap-4","p-6","text-lg","rounded-lg","shadow-lg","bg-elements"],[4,"ngFor","ngForOf","ngForTrackBy"],["routerLinkActive","active","routerLink","/home",1,"z-50","inline-block","w-full","p-2","duration-100","cursor-pointer","hover:bg-indigo-200","hover:font-bold",3,"queryParams","routerLinkActiveOptions"]],template:function(n,o){1&n&&(t.TgZ(0,"lbk-dropdown"),t.TgZ(1,"div",0),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t._UZ(4,"i",2),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"ul",4),t.YNc(7,Y,4,9,"ng-container",5),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.hij("Filter by ",o.current,""),t.xp6(4),t.Q6J("ngForOf",o.regions)("ngForTrackBy",o.identifyRegion))},directives:[P,c.sg,a.yS,a.Od],styles:["#regions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(129 140 248 / var(--tw-bg-opacity));font-weight:700}"]}),e})();var L=i(2001);let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-skeleton-small"]],decls:8,vars:0,consts:[[1,"w-full","max-w-sm","mx-auto"],[1,"grid","w-full","max-w-xs","overflow-hidden","border","border-indigo-400","rounded-lg","animate-pulse"],[1,"w-full","h-40","bg-indigo-400"],[1,"flex-1","p-6","pb-10","space-y-4"],[1,"w-2/4","h-6","bg-indigo-400","rounded"],[1,"w-3/4","h-6","bg-indigo-400","rounded"],[1,"w-2/6","h-6","bg-indigo-400","rounded"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"div",4),t._UZ(5,"div",5),t._UZ(6,"div",6),t._UZ(7,"div",4),t.qZA(),t.qZA(),t.qZA())},styles:[""]}),e})();var E=i(6884);let G=(()=>{class e{constructor(n){this.themeService=n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-country-card"]],inputs:{country:"country"},decls:19,vars:8,consts:[[1,"overflow-hidden","rounded-md","shadow-lg","bg-elements"],[1,"w-full","h-full","shadow-sm",3,"src","alt"],[1,"grid","gap-4","p-8"],[1,"text-xl","font-black","md:text-2xl","2xl:text-xl"],[1,"font-semibold"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"p"),t.TgZ(7,"span",4),t._uU(8,"Population:"),t.qZA(),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"p"),t.TgZ(12,"span",4),t._uU(13,"Region:"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"p"),t.TgZ(16,"span",4),t._uU(17,"Capital:"),t.qZA(),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("src",o.country.flag,t.LSH)("alt",o.country.name),t.xp6(3),t.hij("",o.country.name," "),t.xp6(5),t.hij(" ",t.lcZ(10,6,o.country.population),""),t.xp6(5),t.hij(" ",o.country.region,""),t.xp6(4),t.hij(" ",o.country.capital,""))},pipes:[c.JJ],styles:[""]}),e})();const X=function(e){return["/details",e]};function $(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"lbk-country-card",2),t.NdJ("click",function(){const s=t.CHM(n).$implicit;return t.oxw().countryChange.emit(s)}),t.qZA(),t.BQk()}if(2&e){const n=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,X,n.name))("country",n)}}let R=(()=>{class e{constructor(){this.countryChange=new t.vpe}countryIdentify(n,o){return o.name}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-countries-grid"]],inputs:{countries:"countries"},outputs:{countryChange:"countryChange"},decls:2,vars:2,consts:[[1,"grid","gap-10","mt-10","place-content-center","md:grid-cols-2","xl:grid-cols-3","2xl:grid-cols-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"block","cursor-pointer",3,"routerLink","country","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,$,2,4,"ng-container",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",o.countries)("ngForTrackBy",o.countryIdentify))},directives:[c.sg,G,a.rH],styles:[""],changeDetection:0}),e})();function K(e,r){1&e&&(t.TgZ(0,"div",6),t._UZ(1,"lbk-circle-loading",7),t._UZ(2,"lbk-skeleton-small"),t._UZ(3,"lbk-skeleton-small"),t._UZ(4,"lbk-skeleton-small"),t._UZ(5,"lbk-skeleton-small"),t._UZ(6,"lbk-skeleton-small"),t._UZ(7,"lbk-skeleton-small"),t._UZ(8,"lbk-skeleton-small"),t._UZ(9,"lbk-skeleton-small"),t._UZ(10,"lbk-skeleton-small"),t._UZ(11,"lbk-skeleton-small"),t._UZ(12,"lbk-skeleton-small"),t._UZ(13,"lbk-skeleton-small"),t.qZA())}function W(e,r){if(1&e&&t._UZ(0,"lbk-countries-grid",11),2&e){const n=t.oxw().ngIf;t.Q6J("countries",n)}}function V(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1," and region "),t.TgZ(2,"span",14),t._uU(3),t.qZA(),t.qZA()),2&e){const n=t.oxw(4);t.xp6(3),t.hij("",n.filter.region,".")}}function tt(e,r){if(1&e&&(t.TgZ(0,"div",12),t.TgZ(1,"h1",13),t._uU(2,"No country match with name "),t.TgZ(3,"span",14),t._uU(4),t.qZA(),t.YNc(5,V,4,1,"span",8),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.xp6(4),t.hij("",n.filter.name," "),t.xp6(1),t.Q6J("ngIf",n.filter.region)}}function et(e,r){if(1&e&&(t.TgZ(0,"main"),t.YNc(1,W,1,1,"lbk-countries-grid",9),t.YNc(2,tt,6,2,"ng-template",null,10,t.W1O),t.qZA()),2&e){const n=r.ngIf,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.length>0)("ngIfElse",o)}}function nt(e,r){if(1&e&&(t.YNc(0,et,4,2,"main",8),t.ALo(1,"async")),2&e){const n=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,n.countries$))}}const ot=[{path:"",component:(()=>{class e extends _.f{constructor(n,o){super(),this._route=n,this._store=o,this.countries$=this._store.select(b.o),this.region$=this._store.select(h.E6)}ngOnInit(){this._subscribeParams(),this._subscribeFilter(),this._subscribeLoading()}_subscribeFilter(){this.appendSub=this._store.select(h.zK).subscribe(n=>{this.filter=n})}_subscribeLoading(){this.appendSub=this._store.select(w.Kv).subscribe(n=>{this.loading=n})}_subscribeParams(){var n=this;this.appendSub=this._route.queryParams.subscribe(function(){var o=function(e){return function(){var r=this,n=arguments;return new Promise(function(o,l){var s=e.apply(r,n);function u(m){f(s,o,l,u,p,"next",m)}function p(m){f(s,o,l,u,p,"throw",m)}u(void 0)})}}(function*(l){n._store.dispatch((0,k.V_)()),n._store.dispatch((0,T.Tv)({filter:Object.assign({},l)}))});return function(l){return o.apply(this,arguments)}}())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.gz),t.Y36(A.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lbk-home"]],features:[t.qOj],decls:7,vars:5,consts:[[1,"container","pb-20","mt-8"],[1,"flex","flex-col","gap-10","md:flex-row","md:items-center","md:justify-between"],[1,"block","max-w-lg","md:flex-grow",3,"loading","filter"],[3,"filter"],["class","relative grid gap-10 mt-10 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",4,"ngIf","ngIfElse"],["display",""],[1,"relative","grid","gap-10","mt-10","md:grid-cols-2","xl:grid-cols-3","2xl:grid-cols-4"],[1,"absolute","z-50","-translate-x-1/2","top-11","left-1/2"],[4,"ngIf"],[3,"countries",4,"ngIf","ngIfElse"],["empty",""],[3,"countries"],[1,"mt-20"],[1,"text-xl","italic","font-bold","text-center","lg:text-3xl"],[1,"text-indigo-400"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"nav",1),t._UZ(2,"lbk-search-bar",2),t._UZ(3,"lbk-filter",3),t.qZA(),t.YNc(4,K,14,0,"div",4),t.YNc(5,nt,2,3,"ng-template",null,5,t.W1O),t.qZA()),2&n){const l=t.MAs(6);t.xp6(2),t.Q6J("loading",o.loading)("filter",o.filter),t.xp6(1),t.Q6J("filter",o.filter),t.xp6(1),t.Q6J("ngIf",o.loading)("ngIfElse",l)}},directives:[B,D,c.O5,L.b,z,R],pipes:[c.Ov],styles:[""]}),e})()}];let rt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.Bz.forChild(ot)],a.Bz]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[[c.ez,rt,y,d.u5,v.D,Z.d,x.v]]}),e})()}}]);